<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Movie Square Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat." />
<meta name="keywords" content="Ex ea, commodo, consequat, duis aute irure, dolor in, reprehenderit" />

<title>Movie Square - Home</title>

<!-- CSS -->
<link href="css/rs.css" rel="stylesheet" type="text/css" />
<link href="css/myriadpro.css" rel="stylesheet" type="text/css" />
<link href="css/dropkick.css" rel="stylesheet" type="text/css" />

<!-- Custom CSS -->
<link href="css/ms.css" rel="stylesheet" type="text/css" />
<link href="css/booking.css" rel="stylesheet" type="text/css" />

<!-- Javascript and JQuery -->
<script src="js/jquery-1.7.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="js/jquery.dropkick-1.0.0.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">
	$(function () {
		$('.default').dropkick();
	});
</script>
</head>

<body>
<div class="w">
	<div id="header">
		<h1><a href="index.php">Movie Square</a></h1>
		<div id="nav">
			<ul>
				<li><a href="index.php">Home </a></li>
				<li class="current"><a href="booking.php">Ticket Booking</a></li>
				<li><a href="movies.php">Movies</a></li>
				<li><a href="news.php">News &amp; Events</a></li>
				<li><a href="services.php">Services</a></li>
				<li><a href="aboutus.php">About Us</a></li>
			</ul>
		</div>
	</div>

	<div id="filmBar"></div>
	
   <div class="progressBar">
		<div class="currentStep" style="width:50%">
			<span>Select your seats</span>            
		</div>
		<div class="progressStatus">Progress 50%</div>   
	</div>
	
    <div id="main">
    	<div id="content">
			<div class="padding">
				<div class="box">
					<h1>Select your seats</h1>
					
					<table id="seatMap">
						<tr id="A">
							<td class="invalid"></td><td class="invalid"></td><td class="invalid"></td><td class="invalid"></td>
							<td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td>
							<td class="invalid"></td><td class="invalid"></td><td class="invalid"></td><td class="invalid"></td>
						</tr>
						<tr id="B">
							<td class="invalid"></td><td class="invalid"></td><td class="invalid"></td><td class="invalid"></td>
							<td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td>
							<td class="invalid"></td><td class="invalid"></td><td class="invalid"></td><td class="invalid"></td>
						</tr>
						<tr id="C">
							<td class="invalid"></td><td class="invalid"></td><td class="invalid"></td><td class="invalid"></td>
							<td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td>
							<td class="invalid"></td><td class="invalid"></td><td class="invalid"></td><td class="invalid"></td>
						</tr>
						<tr id="D">
							<td class="invalid"></td><td class="invalid"></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td class="invalid"></td><td class="invalid"></td>
						</tr>
						<tr id="E">
							<td class="invalid"></td><td class="invalid"></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td class="invalid"></td><td class="invalid"></td>
						</tr>
						<tr id="F">
							<td class="invalid"></td><td class="invalid"></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td class="invalid"></td><td class="invalid"></td>
						</tr>
						<tr id="G">
							<td class="invalid"></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td class="invalid"></td>
						</tr>
						<tr id="H">
							<td class="invalid"></td>
							<td></td><td></td><td></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td></td><td></td><td></td>
							<td class="invalid"></td>
						</tr>
						<tr id="I">
							<td class="invalid"></td>
							<td></td><td></td><td></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td></td><td></td><td></td>
							<td class="invalid"></td>
						</tr>
						<tr id="J">
							<td></td><td></td><td></td><td></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td></td><td></td><td></td><td></td>
						</tr>
						<tr id="K">
							<td></td><td></td><td></td><td></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td><td class="vip"></td>
							<td></td><td></td><td></td><td></td>
						</tr>
						<tr id="L">
							<td></td><td></td><td></td><td class="booked"></td><td class="booked"></td><td class="booked"></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
						</tr>
						<tr id="M">
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
						</tr>
						<tr id="N">
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
						</tr>
						<tr id="O">
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
							<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
						</tr>
						<tr id="">
							<td class="nameTag">1</td><td class="nameTag">2</td><td class="nameTag">3</td><td class="nameTag">4</td><td class="nameTag">5</td>
							<td class="nameTag">6</td><td class="nameTag">7</td><td class="nameTag">8</td><td class="nameTag">9</td><td class="nameTag">10</td>
							<td class="nameTag">11</td><td class="nameTag">12</td><td class="nameTag">13</td><td class="nameTag">14</td><td class="nameTag">15</td>
							<td class="nameTag">16</td><td class="nameTag">17</td><td class="nameTag">18</td><td class="nameTag">19</td><td class="nameTag">20</td>
						</tr>
					</table>					
					
				<button onclick="location.href='booking.php'" class="button">Back</button>
				<button onclick="process();" class="button">Next</button>
			   </div>
			</div>
		</div>
        
		<div id="sidebar">
			<div class="padding">
				<div class="box">
					<h3>Your Ticket</h3>
					<div class="yourTicket">
						<a href="#">
							<img src="media/movies/iron_man_3/poster_portrait.jpg" />
						</a>
						<ul>
							<li><span class="label">Movie</span>Iron Man 3</li>
							<li><span class="label">Date</span>01/05/2012</li>
							<li><span class="label">Time</span>10:00</li>
							<li class="yourSeats"></li>
							<li class="ticketStandard"><span class="label">Standard (x0)</span>0$</li>
							<li class="ticketVIP"><span class="label">VIP (x0)</span>0$</li>
							<li class="ticketVAT"><span class="label">VAT (10%)</span>0$</li>
							<li class="ticketTotal"><span class="label">Total</span>0$</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	
		<div class="clr"></div>    	
	</div>
	
	<div id="filmBar"></div>
    
    <div id="footer">
    	<ul>
			<li class="current"><a href="index.php">Home </a></li>
			<li><a href="booking.php">Ticket Booking</a></li>
			<li><a href="movies.php">Movies</a></li>
			<li><a href="news.php">News &amp; Events</a></li>
			<li><a href="services.php">Services</a></li>
			<li><a href="aboutus.php">About Us</a></li>
		</ul>

		<h3>Movie Square Entertainment Jsc &copy; Copyright 2012</h3>
		<p>Address: Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua<br />
Phone: 123-123456 | Fax: 123-123456 | Email: contact@moviesquare.com</p>

		<div class="socialIcons">
			<a href="#" title="Find us on Facebook"><img src="images/facebook.png" /></a><a href="#" title="Follow us on Twitter"><img src="images/twitter.png" /></a><a href="#" title="Your Channel on Youtube"><img src="images/youtube.png" /></a><a href="#" title="Get RSS Feeds"><img src="images/rss.png" /></a>
		</div>
	</div>
</div>

<script type="text/javascript">
	var standard = 0, vip = 0;
	var seat = new Array();
	
	function process() {
		if (vip==0 && standard==0) {
			alert("You haven't choose any seat!");
			return;
		}
		
		location.href = 'book-step-3.html';
	}
	
	$("#seatMap tr").each(function(i) {
		$(this).children("td").each(function(j) {
			o = $(this);
			if (! o.hasClass("nameTag") && ! o.hasClass("invalid"))
				o.attr("id", (String.fromCharCode(65+i)) + ++j + "");
			if (!o.hasClass("invalid") && Math.floor(Math.random()*100)<Math.floor(Math.random()*50)) {
				o.addClass("booked");
			}
		});
		$(this).append("<td class='nameTag'>" + $(this).attr("id") + "</td>");
	});
	
	$("#seatMap td").click(function() {
		o = $(this);
		if (! o.hasClass("nameTag")) {
			if (o.hasClass("booked")) {
				alert("This seat is not available!");
			} else if (o.hasClass("vip")) {
				if (o.hasClass("selected")) {
					vip--;
					seat.splice(seat.indexOf(o.attr("id")), 1);
					o.removeClass("selected");
				} else {
					seat[vip+standard] = o.attr("id");
					vip++;
					o.addClass("selected");
				}
			} else {
				if (o.hasClass("selected")) {
					standard--;
					seat.splice(seat.indexOf(o.attr("id")), 1);
					o.removeClass("selected");
				} else {
					seat[vip+standard] = o.attr("id");
					standard++;
					o.addClass("selected");
				}
			}
			updatePayment();
		}
	});
	
	function updatePayment() {
		$(".yourSeats").empty();
		for (i in seat) {
			if ($("#" + seat[i]).hasClass("vip"))
				$(".yourSeats").append("<span class='seatVIP'>" + seat[i] + "</span>");
			else
				$(".yourSeats").append("<span class='seatStandard'>" + seat[i] + "</span>");
		}
		$(".ticketStandard").html("<span class='label'>Standard (x" + standard + ")</span>" + standard*30 + "$</li>");
		$(".ticketVIP").html("<span class='label'>VIP (x" + vip + ")</span>" + vip*100 + "$</li>");
		$(".ticketVAT").html("<span class='label'>VAT (10%)</span>" + (standard*30 + vip*100)/10 + "$</li>");
		$(".ticketTotal").html("<span class='label'>Total</span>" + (standard*30 + vip*100)*11/10 + "$</li>");
		
		$(".yourSeats span").click(function() {
			o = $(this);
			if (o.hasClass("seatVIP"))
				vip--;
			else
				standard--;
			seat.splice(seat.indexOf(o.html()), 1);
			$("#" + o.html()).removeClass("selected");
			updatePayment();
		});
	}
</script>
</body>
</html>
